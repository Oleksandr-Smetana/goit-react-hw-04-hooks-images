(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3n-Ms",message:"ImageGallery_message__BNG2f"}},12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__191wq",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2qe5m"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__315ta",Modal:"Modal_Modal__3eq6H"}},14:function(e,t,a){e.exports={App:"App_App__UNJNE"}},16:function(e,t,a){e.exports={Button:"Button_Button__7MMAk"}},21:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(5),o=a.n(n),s=(a(21),a(3)),l=a(4),i=(a(22),a(14)),u=a.n(i),m=a(6),b=a.n(m),j=a(1);function h(e){var t=e.onSubmit,a=Object(r.useState)(""),c=Object(s.a)(a,2),n=c[0],o=c[1];return Object(j.jsx)("header",{className:b.a.Searchbar,children:Object(j.jsxs)("form",{className:b.a.SearchForm,children:[Object(j.jsx)("button",{type:"submit",className:b.a.SearchFormButton,onClick:function(e){if(e.preventDefault(),""===n.trim())return l.b.warn("Please enter your query!");t(n),o("")},children:Object(j.jsx)("span",{className:b.a.SearchFormButtonLabel,children:"Search"})}),Object(j.jsx)("input",{className:b.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"imageName",value:n,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var d=a(8),g=a(10),O=a.n(g);var f=a(12),p=a.n(f);function _(e){var t=e.tags,a=e.smallImage,r=e.largeImage,c=e.openModal;return Object(j.jsx)("li",{className:p.a.ImageGalleryItem,children:Object(j.jsx)("img",{className:p.a.ImageGalleryItemImage,alt:t,src:a,"data-source":r,onClick:c})})}var S=a(15),v=a.n(S);a(44);function x(){return Object(j.jsx)(v.a,{type:"Rings",color:"#3f51b5",height:80,width:80,style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})}var y=a(16),I=a.n(y);function w(e){var t=e.onClick;return Object(j.jsx)("button",{className:I.a.Button,type:"button",onClick:t,children:"Load more"})}var N=a(13),k=a.n(N),F=document.querySelector("#modal-root");function G(e){var t=e.closeModal,a=e.url,c=e.alt;Object(r.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(n.createPortal)(Object(j.jsx)("div",{className:k.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(j.jsx)("div",{className:k.a.Modal,children:Object(j.jsx)("img",{src:a,alt:c})})}),F)}function B(e){var t=e.imageQuery,a=Object(r.useState)(""),c=Object(s.a)(a,2),n=c[0],o=c[1],i=Object(r.useState)([]),u=Object(s.a)(i,2),m=u[0],b=u[1],h=Object(r.useState)(1),g=Object(s.a)(h,2),f=g[0],p=g[1],S=Object(r.useState)("idle"),v=Object(s.a)(S,2),y=v[0],I=v[1],N=Object(r.useState)(!1),k=Object(s.a)(N,2),F=k[0],B=k[1],M=Object(r.useState)(!1),C=Object(s.a)(M,2),L=C[0],q=C[1],E=Object(r.useState)(null),A=Object(s.a)(E,2),U=A[0],J=A[1],P=Object(r.useState)(null),R=Object(s.a)(P,2),T=R[0],D=R[1],H=Object(r.useState)(null),Q=Object(s.a)(H,2),z=Q[0],W=Q[1];Object(r.useEffect)((function(){t&&(I("pending"),function(e,t){return fetch("".concat("https://pixabay.com/api/?","q=").concat(e,"&page=").concat(t,"&key=").concat("23038692-8ee91ca42b74ab69b2665b678","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("No images with query: ".concat(e,"...")))}))}(t,f).then((function(e){var a=e.hits,r=e.total;if(I("resolved"),!r)return b([]),p(1),B(!1),void l.b.error('No images with query: "'.concat(t,'".'));if(1===f)o(t),b(Object(d.a)(a)),B(!0);else if(t===n?(b((function(e){return[].concat(Object(d.a)(e),Object(d.a)(a))})),K()):(p(1),b(Object(d.a)(a))),a.length<12)return B(!1),void l.b.success('All images with query "'.concat(t,'" were downloaded.'))})).catch((function(e){W(e),I("rejected"),B(!1)})))}),[t,n,f]);var K=function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},V=function(e){q(!0),D(e.target.alt),J(e.target.dataset.source)};return"idle"===y?Object(j.jsx)("h2",{className:O.a.message,children:"What are we looking for?"}):"pending"===y?Object(j.jsx)(x,{}):"rejected"===y?Object(j.jsx)("h2",{className:O.a.message,children:z.message}):"resolved"===y?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("ul",{className:O.a.ImageGallery,children:m.map((function(e){return Object(j.jsx)(_,{tags:e.tags,smallImage:e.webformatURL,largeImage:e.largeImageURL,openModal:V},e.id)}))}),F&&Object(j.jsx)(w,{onClick:function(){p((function(e){return e+1}))}}),L&&Object(j.jsx)(G,{closeModal:function(){q(!1),D(null),J(null)},url:U,alt:T})]}):void 0}function M(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(j.jsxs)("div",{className:u.a.App,children:[Object(j.jsx)(h,{onSubmit:c}),Object(j.jsx)(B,{imageQuery:a}),Object(j.jsx)(l.a,{autoClose:4e3,position:"bottom-center",theme:"colored"})]})}o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(M,{})}),document.getElementById("root"))},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3bvva",SearchForm:"Searchbar_SearchForm__2OfLO",SearchFormButton:"Searchbar_SearchFormButton__3GiwD",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1t60U",SearchFormInput:"Searchbar_SearchFormInput__1sB4F"}}},[[45,1,2]]]);
//# sourceMappingURL=main.00c8cf1c.chunk.js.map